language: cpp

dist: trusty

compiler: 
- gcc
addons:
 apt:
  sources: 
  - kalakris-cmake
  - llvm-toolchain-precise
  - ubuntu-toolchain-r-test
  packages:
  - cmake
  - gcc-6
  - g++-6
  - libgnutls-dev

install:
- if [ "$CXX" = "g++" ]; then export CXX="g++-6" CC="gcc-6"; fi

before_script:
- mkdir build
- cd build
- cmake -G "Unix Makefiles" . ..

script:
- cmake --build .

build: cmake --build .
